<div *ngIf="isLoading" style="display: flex; justify-content: center; padding: 50px">
  <nz-spin nzTip="Loading..."></nz-spin>
</div>

<div *ngIf="!isLoading && user">
  <div style="display: flex; justify-content: space-between; margin-bottom: 24px">
    <button nz-button nzType="default" (click)="goBack()">
      <span nz-icon nzType="arrow-left"></span>
      Back to Users
    </button>
  </div>

  <nz-descriptions nzTitle="User Information" nzBordered [nzColumn]="1">
    <nz-descriptions-item nzTitle="First Name">{{ user.first_name }}</nz-descriptions-item>
    <nz-descriptions-item nzTitle="Last Name">{{ user.last_name }}</nz-descriptions-item>
    <nz-descriptions-item nzTitle="Email">{{ user.email }}</nz-descriptions-item>
    <nz-descriptions-item nzTitle="Role">
      <nz-tag [nzColor]="getRoleTagColor(user.role)">{{ user.role }}</nz-tag>
    </nz-descriptions-item>
  </nz-descriptions>

  <div style="margin-top: 24px; display: flex; gap: 12px">
    <button nz-button nzType="primary" [routerLink]="['/users/edit', user.id]">
      <span nz-icon nzType="edit"></span>
      Edit User
    </button>
    <button
      nz-button
      nzType="primary"
      nzDanger
      nz-popconfirm
      nzPopconfirmTitle="Are you sure you want to delete this user?"
      nzPopconfirmPlacement="top"
      (nzOnConfirm)="deleteUser()">
      <span nz-icon nzType="delete"></span>
      Delete User
    </button>
  </div>
</div>
